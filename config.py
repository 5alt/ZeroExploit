# -*- coding: utf-8 -*-
from lib.libmysql import MYSQL

def ip():
	import socket
	return socket.gethostbyname(socket.gethostname())

proxy_host = '127.0.0.1'#ip()
proxy_port = 8888

DNS_DOMAIN = 'd.5alt.me'
SERVER_IP = '127.0.0.1'#ip()

hash_pattern =  r'[a-z0-9]{5}'

filter_file = [".ico", ".flv", ".css", ".jpg", ".png", ".jpeg", ".gif", ".pdf", ".ss3", ".txt", ".rar", ".zip", ".avi", ".mp4", ".swf", ".wmi", ".exe", ".mpeg"] #host.endswith(item), '.html', '.htm', 
filter_code = r'4\d{2}' #re.match
included_host = ['vulnweb.com'] #host.endswith(item)
excluded_host = [".gov", "localhost", "127.0.0.1", "google.com", "gstatic.com", "cnzz.com", "doubleclick.com", "mil.cn", "gov.cn", "gov.com"] #host.endswith(item)
filter_content_type = ['html', 'xml', 'json']

dbhost = 'localhost' 
dbuser = 'root' 
dbpwd = 'root'
dbname = 'zeroexploit' 
dbcharset = 'utf8'
unix_socket = None # for other platform
unix_socket = "/Applications/MAMP/tmp/mysql/mysql.sock" #for osx MAMP

class MySQLConnectionSingleton(object):
	'''通过重载实例化函数__new__缓存mysql连接'''
	conn=None
	def __new__(cls,dbhost, dbuser, dbpwd, dbname, dbcharset, unix_socket):
		if cls.conn is None:
			cls.conn= MYSQL(
				dbhost = dbhost,
				dbuser = dbuser,
				dbpwd = dbpwd,
				dbname = dbname,
				dbcharset = dbcharset,
				unix_socket=unix_socket)
		return cls.conn

dbconn = MySQLConnectionSingleton(dbhost, dbuser, dbpwd, dbname, dbcharset, unix_socket)

max_save_size = 1024*1024 # 1M
